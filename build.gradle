apply plugin: 'java'
apply plugin: 'groovy'
apply plugin: 'maven-publish'

buildscript {
  repositories {  
    jcenter()  
  }
  dependencies {
    classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:0.3'
  }
}

apply plugin: 'bintray'

repositories {  
  jcenter()  
}

group = 'iamedu.crypt'
version = '0.1.0'

dependencies {
  compile 'commons-codec:commons-codec:1.9'
  testCompile "org.spockframework:spock-core:0.7-groovy-2.0" 
}

task sourceJar(type: Jar) {
  from sourceSets.main.allJava
}

publishing {
  publications {
    mavenJava(MavenPublication) {
      groupId 'iamedu.crypt'
      artifactId 'java-crypto'
      version '0.1.0'
      from components.java

      artifact sourceJar {
        classifier "sources"
      }

    }
  }
}

compileJava {
  sourceCompatibility = 1.6
  targetCompatibility = 1.6
}

bintray {
  user = user
  key = key
  publications = ['mavenJava'] // When uploading Maven-based publication files
  pkg {
    repo = 'maven'
    name = 'java-crypto'
    licenses = ['Apache-2.0']
  }
}
